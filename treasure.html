<!DOCTYPE html>
<html lang="en">
<head>
  <title>Treasure Hunt. Thomas Lowe digs for treasure</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" 
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" 
    integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
</head>
<body>
    <div id="instructions">
        <p>
            Click on locations to find silver and gold, and watch out for the rattlesnake.
        </p>

    </div>
    <br>
    <div id="locations">
        Number of locations checked is zero.
    </div>
    <div id="score">
        Score is zero.
    </div>
    <div onclick="help()">
        Click for help
    </div>
    <div id="help">
        Help Report
    </div>
    <div class="grid-container">
        <div class="row">
            <div id="01" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="02" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="03" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="04" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="05" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="06" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="07" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
        </div>
        <div class="row">
            <div id="08" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="09" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="10" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="11" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="12" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="13" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="14" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
        </div>
        <div class="row">
            <div id="15" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="16" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="17" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="18" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="19" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="20" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="21" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
        </div>
        <div class="row">
            <div id="22" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="23" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="24" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="25" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="26" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="27" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="28" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
        </div>
        <div class="row">
            <div id="29" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="30" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="31" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="32" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="33" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="34" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
            <div id="35" class="search_location"><img src="cactus-158506_1280.png" alt="?"></div>
        </div>

    </div>
    <script>
        let score = 0;
        let locationsVisited = 0;
        let silverLocations = [2,5,11,21,32];
        let goldLocation = 15;
        let snakeLocation = 20;
        let gameOver = false;
                let ids = ["01", "02", "03", "04", "05", "06", "07", 
                    "08", "09", "10", "11", "12", "13", "14", 
                    "15", "16", "17", "18", "19", "20", "21", 
                    "22", "23", "24", "25", "26", "27", "28", 
                    "29", "30", "31", "32", "33", "34", "35"]

        function CheckPosition(position) 
        {
            if (gameOver) 

            {
                return;                
            }
            let id = ids[position - 1];
            let imgElement = document.getElementById(id).getElementsByTagName("img")[0];

            if (position === goldLocation) 
            {
                imgElement.src = "gold.png";
                score += 10;
                locationsVisited++;
            }
            else if (silverLocations.includes(position)) 
            {
                imgElement.src = "silver.png";
                score += 5;
                locationsVisited++;
            }
            else if (position === snakeLocation) 
            {
                imgElement.src = "snake.png";
                score -= 5;
                locationsVisited++;
            }
            else 
            {
                imgElement.src = "cactus-158506_1280.png";
                locationsVisited++;
            }
        }

        function help()
        {
            if (lastCheck === null)
            {
                document.getElementById("help").innerText = "wind";
                return "wind";                    
            }

            let closestLocations = [(lastCheck - 1 + 35) % 35,
                                    (lastCheck + 1) % 35,
                                    (lastCheck - 7 + 35) % 35,
                                    (lastCheck + 7) % 35];
            
            for (let loc of closestLocations)
            {
                if (silverLocations.includes(loc))
                {
                    document.getElementById("help").innerText = "clink";
                    return "clink";
                }
            }

            let lastRow = Math.floor(lastCheck / 7);
            let lastColumn = lastCheck % 5;
            let snakeRow = Math.floor(snakeLocation / 7);
            let snakeColumn = snakeLocation % 5;

            if (Math.abs(lastRow - snakeRow) <= 1 && Math.abs(lastColumn - snakeColumn) <= 1)
            {
                document.getElementById("help").innerText = "rattle";
                return "rattle";
            }

            document.getElementById("help").innerText = "wind";
            return "wind";
        }
    </script>
</body>
</html>